<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤ —Å–º–µ—Ä—Ç–∏ - Evolution Game of Life</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            margin: 0;
            padding: 20px;
        }
        .test-container {
            max-width: 1000px;
            margin: 0 auto;
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
            border: 1px solid rgba(255,255,255,0.2);
        }
        .test-scenario {
            margin: 20px 0;
            padding: 20px;
            border-radius: 8px;
            background: rgba(0,0,0,0.3);
            border-left: 4px solid #667eea;
        }
        .test-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .control-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        .control-group label {
            font-weight: 600;
        }
        input[type="range"] {
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: rgba(255,255,255,0.2);
            outline: none;
        }
        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            margin: 5px;
            transition: all 0.3s ease;
        }
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        .results {
            margin: 20px 0;
            padding: 15px;
            background: rgba(0,0,0,0.2);
            border-radius: 8px;
        }
        .death-cause {
            margin: 10px 0;
            padding: 10px;
            border-radius: 5px;
        }
        .temperature-death { background: rgba(255, 68, 68, 0.3); }
        .pressure-death { background: rgba(255, 170, 0, 0.3); }
        .energy-death { background: rgba(220, 53, 69, 0.3); }
        .age-death { background: rgba(108, 117, 125, 0.3); }
        .disease-death { background: rgba(102, 16, 242, 0.3); }
        .predator-death { background: rgba(40, 167, 69, 0.3); }
        .conway-death { background: rgba(255, 193, 7, 0.3); }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>‚ò†Ô∏è –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤ —Å–º–µ—Ä—Ç–∏ –∫–ª–µ—Ç–æ–∫</h1>
        <p>–≠—Ç–æ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –ø—Ä–∏—á–∏–Ω—ã —Å–º–µ—Ä—Ç–∏ –∫–ª–µ—Ç–æ–∫ –≤ Evolution Game of Life.</p>
        
        <div class="test-controls">
            <div class="control-group">
                <label for="testSurvival">üõ°Ô∏è –í—ã–∂–∏–≤–∞–µ–º–æ—Å—Ç—å –î–ù–ö: <span id="survivalValue">50</span></label>
                <input type="range" id="testSurvival" min="0" max="100" value="50">
            </div>
            <div class="control-group">
                <label for="testAdaptation">‚ö° –ê–¥–∞–ø—Ç–∞—Ü–∏—è –î–ù–ö: <span id="adaptationValue">50</span></label>
                <input type="range" id="testAdaptation" min="0" max="100" value="50">
            </div>
            <div class="control-group">
                <label for="testEnergy">üîã –≠–Ω–µ—Ä–≥–∏—è –∫–ª–µ—Ç–∫–∏: <span id="energyValue">80</span></label>
                <input type="range" id="testEnergy" min="0" max="100" value="80">
            </div>
            <div class="control-group">
                <label for="testAge">‚è∞ –í–æ–∑—Ä–∞—Å—Ç –∫–ª–µ—Ç–∫–∏: <span id="ageValue">0</span></label>
                <input type="range" id="testAge" min="0" max="200" value="0">
            </div>
            <div class="control-group">
                <label for="testTemp">üå°Ô∏è –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞: <span id="tempValue">0¬∞C</span></label>
                <input type="range" id="testTemp" min="-50" max="50" value="0">
            </div>
            <div class="control-group">
                <label for="testPressure">‚ö° –î–∞–≤–ª–µ–Ω–∏–µ: <span id="pressureValue">50</span></label>
                <input type="range" id="testPressure" min="0" max="100" value="50">
            </div>
            <div class="control-group">
                <label for="testNeighbors">üë• –°–æ—Å–µ–¥–∏: <span id="neighborsValue">3</span></label>
                <input type="range" id="testNeighbors" min="0" max="8" value="3">
            </div>
        </div>
        
        <button onclick="testSurvivalChances()">üß¨ –†–∞—Å—Å—á–∏—Ç–∞—Ç—å —à–∞–Ω—Å—ã –≤—ã–∂–∏–≤–∞–Ω–∏—è</button>
        <button onclick="runDeathScenarios()">‚ò†Ô∏è –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–∏ —Å–º–µ—Ä—Ç–∏</button>
        <button onclick="showDeathMechanisms()">üìã –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã —Å–º–µ—Ä—Ç–∏</button>
        
        <div id="results" class="results"></div>
    </div>

    <script>
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π —Å–ª–∞–π–¥–µ—Ä–æ–≤
        document.getElementById('testSurvival').addEventListener('input', function(e) {
            document.getElementById('survivalValue').textContent = e.target.value;
        });
        document.getElementById('testAdaptation').addEventListener('input', function(e) {
            document.getElementById('adaptationValue').textContent = e.target.value;
        });
        document.getElementById('testEnergy').addEventListener('input', function(e) {
            document.getElementById('energyValue').textContent = e.target.value;
        });
        document.getElementById('testAge').addEventListener('input', function(e) {
            document.getElementById('ageValue').textContent = e.target.value;
        });
        document.getElementById('testTemp').addEventListener('input', function(e) {
            document.getElementById('tempValue').textContent = e.target.value + '¬∞C';
        });
        document.getElementById('testPressure').addEventListener('input', function(e) {
            document.getElementById('pressureValue').textContent = e.target.value;
        });
        document.getElementById('testNeighbors').addEventListener('input', function(e) {
            document.getElementById('neighborsValue').textContent = e.target.value;
        });
        
        // –ò–º–∏—Ç–∞—Ü–∏—è —Ç–µ—Ö –∂–µ —Ñ—É–Ω–∫—Ü–∏–π —á—Ç–æ –≤ –∏–≥—Ä–µ
        function calculateSurvivalChance(survival, adaptation, energy, age, neighbors, temperature, pressure, species = 'prey') {
            let baseChance = 0;
            
            if (species === 'predator') {
                baseChance = neighbors <= 1 ? 0.7 : neighbors <= 3 ? 0.9 : 0.6;
            } else {
                if (neighbors === 2 || neighbors === 3) {
                    baseChance = 0.8;
                } else if (neighbors === 1 || neighbors === 4) {
                    baseChance = 0.3;
                } else {
                    baseChance = 0.05;
                }
            }

            const survivalBonus = survival / 100 * 0.5;
            const adaptationBonus = adaptation / 100 * 0.3;
            const energyPenalty = (100 - energy) / 100 * 0.2;
            const agePenalty = Math.min(age / 100, 0.3);
            
            // –í–ª–∏—è–Ω–∏–µ —Å—Ä–µ–¥—ã
            const tempStress = Math.abs(temperature) / 50;
            const pressureStress = Math.abs(pressure - 50) / 50;
            const envPenalty = (tempStress * 0.3 + pressureStress * 0.2);
            
            // –ê–¥–∞–ø—Ç–∞—Ü–∏—è —Å–Ω–∏–∂–∞–µ—Ç –≤–æ–∑–¥–µ–π—Å—Ç–≤–∏–µ —Å—Ä–µ–¥—ã
            const adaptationResistance = (adaptation / 100) * 0.7;
            const finalEnvPenalty = envPenalty * (1 - adaptationResistance);
            
            return Math.max(0.01, Math.min(0.99, baseChance + survivalBonus + adaptationBonus - energyPenalty - agePenalty - finalEnvPenalty));
        }
        
        function testSurvivalChances() {
            const survival = parseInt(document.getElementById('testSurvival').value);
            const adaptation = parseInt(document.getElementById('testAdaptation').value);
            const energy = parseInt(document.getElementById('testEnergy').value);
            const age = parseInt(document.getElementById('testAge').value);
            const temperature = parseInt(document.getElementById('testTemp').value);
            const pressure = parseInt(document.getElementById('testPressure').value);
            const neighbors = parseInt(document.getElementById('testNeighbors').value);
            
            const results = document.getElementById('results');
            
            // –¢–µ—Å—Ç–∏—Ä—É–µ–º –æ–±—ã—á–Ω—É—é –∫–ª–µ—Ç–∫—É
            const preyChance = calculateSurvivalChance(survival, adaptation, energy, age, neighbors, temperature, pressure, 'prey');
            
            // –¢–µ—Å—Ç–∏—Ä—É–µ–º —Ö–∏—â–Ω–∏–∫–∞
            const predatorChance = calculateSurvivalChance(survival, adaptation, energy, age, neighbors, temperature, pressure, 'predator');
            
            const preyPercent = (preyChance * 100).toFixed(1);
            const predatorPercent = (predatorChance * 100).toFixed(1);
            
            // –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –ø—Ä–∏—á–∏–Ω—ã —Å–º–µ—Ä—Ç–∏
            let deathCauses = [];
            
            if (energy <= 10) deathCauses.push('üîã –ù–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ —ç–Ω–µ—Ä–≥–∏–∏');
            if (Math.abs(temperature) > 30) deathCauses.push('üå°Ô∏è –≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞');
            if (Math.abs(pressure - 50) > 30) deathCauses.push('‚ö° –≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–æ–µ –¥–∞–≤–ª–µ–Ω–∏–µ');
            if (age > 150) deathCauses.push('‚è∞ –°—Ç–∞—Ä–æ—Å—Ç—å');
            if (neighbors < 2 || neighbors > 3) deathCauses.push('üë• –ù–µ–±–ª–∞–≥–æ–ø—Ä–∏—è—Ç–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (–ø—Ä–∞–≤–∏–ª–∞ –ö–æ–Ω–≤–µ—è)');
            
            results.innerHTML = `
                <h3>üßÆ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞—Å—á–µ—Ç–∞ –≤—ã–∂–∏–≤–∞–Ω–∏—è</h3>
                <div class="death-cause conway-death">
                    <strong>üêõ –û–±—ã—á–Ω–∞—è –∫–ª–µ—Ç–∫–∞ (–∂–µ—Ä—Ç–≤–∞):</strong> ${preyPercent}% —à–∞–Ω—Å –≤—ã–∂–∏—Ç—å
                </div>
                <div class="death-cause predator-death">
                    <strong>ü¶é –•–∏—â–Ω–∞—è –∫–ª–µ—Ç–∫–∞:</strong> ${predatorPercent}% —à–∞–Ω—Å –≤—ã–∂–∏—Ç—å
                </div>
                <div class="death-cause">
                    <strong>‚ö†Ô∏è –§–∞–∫—Ç–æ—Ä—ã —Ä–∏—Å–∫–∞:</strong><br>
                    ${deathCauses.length > 0 ? deathCauses.join('<br>') : '–ë–ª–∞–≥–æ–ø—Ä–∏—è—Ç–Ω—ã–µ —É—Å–ª–æ–≤–∏—è'}
                </div>
            `;
        }
        
        function runDeathScenarios() {
            const results = document.getElementById('results');
            
            const scenarios = [
                {
                    name: '–ó–∞–º–µ—Ä–∑–∞–Ω–∏–µ',
                    params: [50, 50, 80, 20, 3, -50, 50],
                    class: 'temperature-death'
                },
                {
                    name: '–ü–µ—Ä–µ–≥—Ä–µ–≤', 
                    params: [50, 50, 80, 20, 3, 50, 50],
                    class: 'temperature-death'
                },
                {
                    name: '–í—ã—Å–æ–∫–æ–µ –¥–∞–≤–ª–µ–Ω–∏–µ',
                    params: [50, 50, 80, 20, 3, 0, 100],
                    class: 'pressure-death'
                },
                {
                    name: '–í–∞–∫—É—É–º',
                    params: [50, 50, 80, 20, 3, 0, 0],
                    class: 'pressure-death'
                },
                {
                    name: '–ò—Å—Ç–æ—â–µ–Ω–∏–µ —ç–Ω–µ—Ä–≥–∏–∏',
                    params: [50, 50, 5, 20, 3, 0, 50],
                    class: 'energy-death'
                },
                {
                    name: '–°—Ç–∞—Ä–æ—Å—Ç—å',
                    params: [50, 50, 80, 200, 3, 0, 50],
                    class: 'age-death'
                },
                {
                    name: '–ò–∑–æ–ª—è—Ü–∏—è',
                    params: [50, 50, 80, 20, 0, 0, 50],
                    class: 'conway-death'
                },
                {
                    name: '–ü–µ—Ä–µ–Ω–∞—Å–µ–ª–µ–Ω–∏–µ',
                    params: [50, 50, 80, 20, 8, 0, 50],
                    class: 'conway-death'
                },
                {
                    name: '–ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –∫–ª–µ—Ç–∫–∞ –≤ —ç–∫—Å—Ç—Ä–∏–º–µ',
                    params: [80, 90, 90, 50, 3, -40, 90],
                    class: 'temperature-death'
                }
            ];
            
            results.innerHTML = '<h3>‚ò†Ô∏è –°—Ü–µ–Ω–∞—Ä–∏–∏ —Å–º–µ—Ä—Ç–∏</h3>';
            
            scenarios.forEach(scenario => {
                const [survival, adaptation, energy, age, neighbors, temperature, pressure] = scenario.params;
                const chance = calculateSurvivalChance(survival, adaptation, energy, age, neighbors, temperature, pressure);
                const percent = (chance * 100).toFixed(1);
                const deathChance = (100 - percent).toFixed(1);
                
                let severity = 'success';
                if (chance < 0.3) severity = 'error';
                else if (chance < 0.6) severity = 'warning';
                
                results.innerHTML += `
                    <div class="death-cause ${scenario.class}">
                        <strong>${scenario.name}:</strong><br>
                        –í—ã–∂–∏–≤–∞–Ω–∏–µ: ${percent}% | –°–º–µ—Ä—Ç—å: ${deathChance}%<br>
                        <small>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã: –≤—ã–∂–∏–≤=${survival}, –∞–¥–∞–ø—Ç=${adaptation}, —ç–Ω–µ—Ä–≥=${energy}, –≤–æ–∑—Ä=${age}, —Å–æ—Å–µ–¥–∏=${neighbors}, —Ç–µ–º–ø=${temperature}¬∞C, –¥–∞–≤–ª=${pressure}</small>
                    </div>
                `;
            });
        }
        
        function showDeathMechanisms() {
            const results = document.getElementById('results');
            
            results.innerHTML = `
                <h3>üìã –í—Å–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã —Å–º–µ—Ä—Ç–∏ –≤ –∏–≥—Ä–µ</h3>
                <div class="death-cause conway-death">
                    <strong>1. –ü—Ä–∞–≤–∏–ª–∞ –ö–æ–Ω–≤–µ—è:</strong><br>
                    ‚Ä¢ –ò–∑–æ–ª—è—Ü–∏—è: –º–µ–Ω—å—à–µ 2 —Å–æ—Å–µ–¥–µ–π<br>
                    ‚Ä¢ –ü–µ—Ä–µ–Ω–∞—Å–µ–ª–µ–Ω–∏–µ: –±–æ–ª—å—à–µ 3 —Å–æ—Å–µ–¥–µ–π<br>
                    ‚Ä¢ –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –≤–æ –≤—Å–µ—Ö —Ä–µ–∂–∏–º–∞—Ö
                </div>
                <div class="death-cause energy-death">
                    <strong>2. –≠–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å—Ç–æ—â–µ–Ω–∏–µ (–≠–≤–æ–ª—é—Ü–∏—è):</strong><br>
                    ‚Ä¢ –≠–Ω–µ—Ä–≥–∏—è ‚â§ 10 = —Å–º–µ—Ä—Ç—å<br>
                    ‚Ä¢ –≠–Ω–µ—Ä–≥–∏—è —Ç—Ä–∞—Ç–∏—Ç—Å—è –∫–∞–∂–¥—ã–π —Ö–æ–¥ (-5)<br>
                    ‚Ä¢ –•–∏—â–Ω–∏–∫–∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç —ç–Ω–µ—Ä–≥–∏—é –ø–æ–µ–¥–∞–Ω–∏–µ–º
                </div>
                <div class="death-cause temperature-death">
                    <strong>3. –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã–π —Å—Ç—Ä–µ—Å—Å (–≠–≤–æ–ª—é—Ü–∏—è):</strong><br>
                    ‚Ä¢ –≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã (-50¬∞C –¥–æ +50¬∞C)<br>
                    ‚Ä¢ –°–Ω–∏–∂–∞—é—Ç —à–∞–Ω—Å—ã –≤—ã–∂–∏–≤–∞–Ω–∏—è –¥–æ 30%<br>
                    ‚Ä¢ –ê–¥–∞–ø—Ç–∞—Ü–∏—è –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç —Å—Ç—Ä–µ—Å—Å–∞ —Å—Ä–µ–¥—ã
                </div>
                <div class="death-cause pressure-death">
                    <strong>4. –°—Ç—Ä–µ—Å—Å –¥–∞–≤–ª–µ–Ω–∏—è (–≠–≤–æ–ª—é—Ü–∏—è):</strong><br>
                    ‚Ä¢ –î–∞–≤–ª–µ–Ω–∏–µ 0 –∏–ª–∏ 100 –∞—Ç–º = —Å—Ç—Ä–µ—Å—Å<br>
                    ‚Ä¢ –°–Ω–∏–∂–∞–µ—Ç —à–∞–Ω—Å—ã –≤—ã–∂–∏–≤–∞–Ω–∏—è –¥–æ 20%<br>
                    ‚Ä¢ –í–ª–∏—è–µ—Ç —Ç–∞–∫–∂–µ –Ω–∞ —Ä–∞–∑–º–Ω–æ–∂–µ–Ω–∏–µ
                </div>
                <div class="death-cause age-death">
                    <strong>5. –°—Ç–∞—Ä–µ–Ω–∏–µ (–≠–≤–æ–ª—é—Ü–∏—è):</strong><br>
                    ‚Ä¢ –í–æ–∑—Ä–∞—Å—Ç —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–π —Ö–æ–¥<br>
                    ‚Ä¢ –ü–æ—Å–ª–µ 100 –ø–æ–∫–æ–ª–µ–Ω–∏–π —à—Ç—Ä–∞—Ñ –¥–æ 30%<br>
                    ‚Ä¢ –ù–µ–æ–±—Ä–∞—Ç–∏–º—ã–π –ø—Ä–æ—Ü–µ—Å—Å
                </div>
                <div class="death-cause disease-death">
                    <strong>6. –ë–æ–ª–µ–∑–Ω–∏ (–≠–≤–æ–ª—é—Ü–∏—è + –ë–æ–ª–µ–∑–Ω–∏):</strong><br>
                    ‚Ä¢ –°–ª—É—á–∞–π–Ω—ã–µ –æ—á–∞–≥–∏ –∑–∞—Ä–∞–∂–µ–Ω–∏—è<br>
                    ‚Ä¢ –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –º–µ–∂–¥—É —Å–æ—Å–µ–¥—è–º–∏<br>
                    ‚Ä¢ –°–º–µ—Ä—Ç–Ω–æ—Å—Ç—å 5% –∑–∞ —Ö–æ–¥ –¥–ª—è –∑–∞—Ä–∞–∂–µ–Ω–Ω—ã—Ö
                </div>
                <div class="death-cause predator-death">
                    <strong>7. –•–∏—â–Ω–∏—á–µ—Å—Ç–≤–æ (–≠–≤–æ–ª—é—Ü–∏—è + –•–∏—â–Ω–∏–∫–∏):</strong><br>
                    ‚Ä¢ –•–∏—â–Ω–∏–∫–∏ –ø–æ–µ–¥–∞—é—Ç –∂–µ—Ä—Ç–≤ (30% —à–∞–Ω—Å)<br>
                    ‚Ä¢ –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è —Å–º–µ—Ä—Ç—å –∂–µ—Ä—Ç–≤—ã<br>
                    ‚Ä¢ –•–∏—â–Ω–∏–∫ –ø–æ–ª—É—á–∞–µ—Ç +30 —ç–Ω–µ—Ä–≥–∏–∏
                </div>
                <div class="death-cause">
                    <strong>8. –ö–∞—Ç–∞—Å—Ç—Ä–æ—Ñ—ã (–≠–≤–æ–ª—é—Ü–∏—è):</strong><br>
                    ‚Ä¢ –ú–∞—Å—Å–æ–≤—ã–µ –≤—ã–º–∏—Ä–∞–Ω–∏—è (80% —Å–º–µ—Ä—Ç–Ω–æ—Å—Ç—å)<br>
                    ‚Ä¢ –ú—É—Ç–∞—Ü–∏–æ–Ω–Ω—ã–µ –±—É—Ä–∏<br>
                    ‚Ä¢ –°–ª—É—á–∞–π–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –∫–∞–∂–¥—ã–µ 50-100 –ø–æ–∫–æ–ª–µ–Ω–∏–π
                </div>
            `;
        }
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–µ—Ö–∞–Ω–∏–∑–º—ã —Å–º–µ—Ä—Ç–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        showDeathMechanisms();
    </script>
</body>
</html>